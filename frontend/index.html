<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
        <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.3/dist/cdn.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

</head>
<body>

    <div x-data="bookStore()" x-init="getBooks()">
        <h1>Book Store</h1>

        <ul>
            <template x-for="book in books" :key="book.id">
                <li x-text="book.title"></li>
            </template>
        </ul>
    </div>

    <script>
        function bookStore() {
            return {
                books: [],
                getBooks() {
                    axios.get('http://127.0.0.1:8000/books/')
                        .then(response => {
                            this.books = response.data;
                        })
                        .catch(error => {
                            console.error('There was an error fetching the books!', error);
                        });
                }
            }
        }
    </script>

    
</body>
</html>